import{r as o,a as J,j as p}from"./index-tB3qqX0c.js";import{I as S}from"./Grid-DNEkzx3X.js";import{I as O}from"./index-B0gm06qf.js";import{c as I}from"./index-fRpsU5VF.js";import{t as q,aK as W,aL as Z,aM as ee,aN as N,aO as te,u as re,aP as ae,aB as j,L as F,aQ as ne,aR as se,aS as ie,f as le,T as _,O as oe,ad as V}from"./useResizeObserver-n1fAYFfP.js";import{R as z}from"./ReferenceLine-ClwMPSvB.js";import"./Card-B5iAnDs2.js";import"./Card-foSjiJ5U.js";import"./ErrorBar-D246dvNe.js";import"./tooltipContext-BL-ETvgS.js";function R(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function $(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?R(Object(e),!0).forEach(function(r){de(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):R(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function de(a,t,e){return(t=ve(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function ve(a){var t=he(a,"string");return typeof t=="symbol"?t:t+""}function he(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var r=e.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}var ue=["Webkit","Moz","O","ms"],ce=(a,t)=>{var e=a.replace(/(\w)/,n=>n.toUpperCase()),r=ue.reduce((n,s)=>$($({},n),{},{[s+e]:t}),{});return r[a]=t,r},me=o.createContext(()=>{});function D(){return D=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(a[r]=e[r])}return a},D.apply(null,arguments)}function H(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function P(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?H(Object(e),!0).forEach(function(r){x(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):H(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function x(a,t,e){return(t=pe(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function pe(a){var t=fe(a,"string");return typeof t=="symbol"?t:t+""}function fe(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var r=e.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ge(a){var{x:t,y:e,width:r,height:n,stroke:s}=a,i=Math.floor(e+n/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:t,y:e,width:r,height:n,fill:s,stroke:"none"}),o.createElement("line",{x1:t+1,y1:i,x2:t+r-1,y2:i,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:t+1,y1:i+2,x2:t+r-1,y2:i+2,fill:"none",stroke:"#fff"}))}function xe(a){var{travellerProps:t,travellerType:e}=a;return o.isValidElement(e)?o.cloneElement(e,t):typeof e=="function"?e(t):o.createElement(ge,t)}function U(a){var t,e,{otherProps:r,travellerX:n,id:s,onMouseEnter:i,onMouseLeave:d,onMouseDown:l,onTouchStart:v,onTravellerMoveKeyboard:h,onFocus:u,onBlur:c}=a,{y:g,x:m,travellerWidth:f,height:b,traveller:E,ariaLabel:y,data:T,startIndex:w,endIndex:C}=r,k=Math.max(n,m),B=P(P({},le(r,!1)),{},{x:k,y:g,width:f,height:b}),L=y||"Min value: ".concat((t=T[w])===null||t===void 0?void 0:t.name,", Max value: ").concat((e=T[C])===null||e===void 0?void 0:e.name);return o.createElement(F,{tabIndex:0,role:"slider","aria-label":L,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:i,onMouseLeave:d,onMouseDown:l,onTouchStart:v,onKeyDown:M=>{["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),h(M.key==="ArrowRight"?1:-1,s))},onFocus:u,onBlur:c,style:{cursor:"col-resize"}},o.createElement(xe,{travellerType:E,travellerProps:B}))}function G(a){var{index:t,data:e,tickFormatter:r,dataKey:n}=a,s=oe(e[t],n,t);return typeof r=="function"?r(s,t):s}function Y(a,t){for(var e=a.length,r=0,n=e-1;n-r>1;){var s=Math.floor((r+n)/2);a[s]>t?n=s:r=s}return t>=a[n]?n:r}function A(a){var{startX:t,endX:e,scaleValues:r,gap:n,data:s}=a,i=s.length-1,d=Math.min(t,e),l=Math.max(t,e),v=Y(r,d),h=Y(r,l);return{startIndex:v-v%n,endIndex:h===i?i:h-h%n}}function ye(a){var{x:t,y:e,width:r,height:n,fill:s,stroke:i}=a;return o.createElement("rect",{stroke:i,fill:s,x:t,y:e,width:r,height:n})}function Te(a){var{startIndex:t,endIndex:e,y:r,height:n,travellerWidth:s,stroke:i,tickFormatter:d,dataKey:l,data:v,startX:h,endX:u}=a,c=5,g={pointerEvents:"none",fill:i};return o.createElement(F,{className:"recharts-brush-texts"},o.createElement(_,D({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,u)-c,y:r+n/2},g),G({index:t,tickFormatter:d,dataKey:l,data:v})),o.createElement(_,D({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,u)+s+c,y:r+n/2},g),G({index:e,tickFormatter:d,dataKey:l,data:v})))}function Pe(a){var{y:t,height:e,stroke:r,travellerWidth:n,startX:s,endX:i,onMouseEnter:d,onMouseLeave:l,onMouseDown:v,onTouchStart:h}=a,u=Math.min(s,i)+n,c=Math.max(Math.abs(i-s)-n,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:d,onMouseLeave:l,onMouseDown:v,onTouchStart:h,style:{cursor:"move"},stroke:"none",fill:r,fillOpacity:.2,x:u,y:t,width:c,height:e})}function be(a){var{x:t,y:e,width:r,height:n,data:s,children:i,padding:d}=a,l=o.Children.count(i)===1;if(!l)return null;var v=o.Children.only(i);return v?o.cloneElement(v,{x:t,y:e,width:r,height:n,margin:d,compact:!0,data:s}):null}var Ee=a=>{var{data:t,startIndex:e,endIndex:r,x:n,width:s,travellerWidth:i}=a;if(!t||!t.length)return{};var d=t.length,l=se().domain(ie(0,d)).range([n,n+s-i]),v=l.domain().map(h=>l(h));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(e),endX:l(r),scale:l,scaleValues:v}},Q=a=>a.changedTouches&&!!a.changedTouches.length;class we extends o.PureComponent{constructor(t){super(t),x(this,"handleDrag",e=>{this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.state.isTravellerMoving?this.handleTravellerMove(e):this.state.isSlideMoving&&this.handleSlideDrag(e)}),x(this,"handleTouchMove",e=>{e.changedTouches!=null&&e.changedTouches.length>0&&this.handleDrag(e.changedTouches[0])}),x(this,"handleDragEnd",()=>{this.setState({isTravellerMoving:!1,isSlideMoving:!1},()=>{var{endIndex:e,onDragEnd:r,startIndex:n}=this.props;r?.({endIndex:e,startIndex:n})}),this.detachDragEndListener()}),x(this,"handleLeaveWrapper",()=>{(this.state.isTravellerMoving||this.state.isSlideMoving)&&(this.leaveTimer=window.setTimeout(this.handleDragEnd,this.props.leaveTimeOut))}),x(this,"handleEnterSlideOrTraveller",()=>{this.setState({isTextActive:!0})}),x(this,"handleLeaveSlideOrTraveller",()=>{this.setState({isTextActive:!1})}),x(this,"handleSlideDragStart",e=>{var r=Q(e)?e.changedTouches[0]:e;this.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:r.pageX}),this.attachDragEndListener()}),x(this,"handleTravellerMoveKeyboard",(e,r)=>{var{data:n,gap:s}=this.props,{scaleValues:i,startX:d,endX:l}=this.state,v=this.state[r],h=i.indexOf(v);if(h!==-1){var u=h+e;if(!(u===-1||u>=i.length)){var c=i[u];r==="startX"&&c>=l||r==="endX"&&c<=d||this.setState({[r]:c},()=>{this.props.onChange(A({startX:this.state.startX,endX:this.state.endX,data:n,gap:s,scaleValues:i}))})}}}),this.travellerDragStartHandlers={startX:this.handleTravellerDragStart.bind(this,"startX"),endX:this.handleTravellerDragStart.bind(this,"endX")},this.state={}}static getDerivedStateFromProps(t,e){var{data:r,width:n,x:s,travellerWidth:i,startIndex:d,endIndex:l,startIndexControlledFromProps:v,endIndexControlledFromProps:h}=t;if(r!==e.prevData)return P({prevData:r,prevTravellerWidth:i,prevX:s,prevWidth:n},r&&r.length?Ee({data:r,width:n,x:s,travellerWidth:i,startIndex:d,endIndex:l}):{scale:null,scaleValues:null});if(e.scale&&(n!==e.prevWidth||s!==e.prevX||i!==e.prevTravellerWidth)){e.scale.range([s,s+n-i]);var u=e.scale.domain().map(c=>e.scale(c));return{prevData:r,prevTravellerWidth:i,prevX:s,prevWidth:n,startX:e.scale(t.startIndex),endX:e.scale(t.endIndex),scaleValues:u}}if(e.scale&&!e.isSlideMoving&&!e.isTravellerMoving&&!e.isTravellerFocused&&!e.isTextActive){if(v!=null&&e.prevStartIndexControlledFromProps!==v)return{startX:e.scale(v),prevStartIndexControlledFromProps:v};if(h!=null&&e.prevEndIndexControlledFromProps!==h)return{endX:e.scale(h),prevEndIndexControlledFromProps:h}}return null}componentWillUnmount(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}attachDragEndListener(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}detachDragEndListener(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}handleSlideDrag(t){var{slideMoveStartX:e,startX:r,endX:n,scaleValues:s}=this.state,{x:i,width:d,travellerWidth:l,startIndex:v,endIndex:h,onChange:u,data:c,gap:g}=this.props,m=t.pageX-e;m>0?m=Math.min(m,i+d-l-n,i+d-l-r):m<0&&(m=Math.max(m,i-r,i-n));var f=A({startX:r+m,endX:n+m,data:c,gap:g,scaleValues:s});(f.startIndex!==v||f.endIndex!==h)&&u&&u(f),this.setState({startX:r+m,endX:n+m,slideMoveStartX:t.pageX})}handleTravellerDragStart(t,e){var r=Q(e)?e.changedTouches[0]:e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:r.pageX}),this.attachDragEndListener()}handleTravellerMove(t){var{brushMoveStartX:e,movingTravellerId:r,endX:n,startX:s,scaleValues:i}=this.state,d=this.state[r],{x:l,width:v,travellerWidth:h,onChange:u,gap:c,data:g}=this.props,m={startX:this.state.startX,endX:this.state.endX,data:g,gap:c,scaleValues:i},f=t.pageX-e;f>0?f=Math.min(f,l+v-h-d):f<0&&(f=Math.max(f,l-d)),m[r]=d+f;var b=A(m),{startIndex:E,endIndex:y}=b,T=()=>{var w=g.length-1;return r==="startX"&&(n>s?E%c===0:y%c===0)||n<s&&y===w||r==="endX"&&(n>s?y%c===0:E%c===0)||n>s&&y===w};this.setState({[r]:d+f,brushMoveStartX:t.pageX},()=>{u&&T()&&u(b)})}render(){var{data:t,className:e,children:r,x:n,y:s,dy:i,width:d,height:l,alwaysShowText:v,fill:h,stroke:u,startIndex:c,endIndex:g,travellerWidth:m,tickFormatter:f,dataKey:b,padding:E}=this.props,{startX:y,endX:T,isTextActive:w,isSlideMoving:C,isTravellerMoving:k,isTravellerFocused:B}=this.state;if(!t||!t.length||!j(n)||!j(s)||!j(d)||!j(l)||d<=0||l<=0)return null;var L=J("recharts-brush",e),M=ce("userSelect","none"),X=s+(i??0);return o.createElement(F,{className:L,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},o.createElement(ye,{x:n,y:X,width:d,height:l,fill:h,stroke:u}),o.createElement(ne,null,o.createElement(be,{x:n,y:X,width:d,height:l,data:t,padding:E},r)),o.createElement(Pe,{y:X,height:l,stroke:u,travellerWidth:m,startX:y,endX:T,onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart}),o.createElement(U,{travellerX:y,id:"startX",otherProps:P(P({},this.props),{},{y:X}),onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers.startX,onTouchStart:this.travellerDragStartHandlers.startX,onTravellerMoveKeyboard:this.handleTravellerMoveKeyboard,onFocus:()=>{this.setState({isTravellerFocused:!0})},onBlur:()=>{this.setState({isTravellerFocused:!1})}}),o.createElement(U,{travellerX:T,id:"endX",otherProps:P(P({},this.props),{},{y:X}),onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers.endX,onTouchStart:this.travellerDragStartHandlers.endX,onTravellerMoveKeyboard:this.handleTravellerMoveKeyboard,onFocus:()=>{this.setState({isTravellerFocused:!0})},onBlur:()=>{this.setState({isTravellerFocused:!1})}}),(w||C||k||B||v)&&o.createElement(Te,{startIndex:c,endIndex:g,y:X,height:l,travellerWidth:m,stroke:u,tickFormatter:f,dataKey:b,data:t,startX:y,endX:T}))}}function Me(a){var t=q(),e=Z(),{startIndex:r,endIndex:n}=ee(),s=o.useContext(me),i=a.onChange,{startIndex:d,endIndex:l}=a;o.useEffect(()=>{t(N({startIndex:d,endIndex:l}))},[t,l,d]),te();var v=o.useCallback(m=>{(m.startIndex!==r||m.endIndex!==n)&&(s?.(m),i?.(m),t(N(m)))},[i,s,t,r,n]),{x:h,y:u,width:c}=re(ae),g={data:e,x:h,y:u,width:c,startIndex:r,endIndex:n,onChange:v};return o.createElement(we,D({},a,g,{startIndexControlledFromProps:d??void 0,endIndexControlledFromProps:l??void 0}))}function Xe(a){var t=q();return o.useEffect(()=>(t(W(a)),()=>{t(W(null))}),[t,a]),null}class K extends o.PureComponent{render(){return o.createElement(o.Fragment,null,o.createElement(Xe,{height:this.props.height,x:this.props.x,y:this.props.y,width:this.props.width,padding:this.props.padding}),o.createElement(Me,this.props))}}x(K,"displayName","Brush");x(K,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const Se=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181}],Ie=[{key:"pv",dataKey:"pv",fill:"#ef75e7ff",activeBar:p.jsx(V,{fill:"pink",stroke:"blue"}),isAnimationActive:!1},{key:"uv",dataKey:"uv",fill:"#54ea8dff",activeBar:p.jsx(V,{fill:"gold",stroke:"purple"}),isAnimationActive:!1}],De=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181}],Oe=[{key:"pv",dataKey:"pv",stackId:"a",fill:"#cef65fff",isAnimationActive:!1},{key:"uv",dataKey:"uv",stackId:"a",fill:"#5ca3eaff",isAnimationActive:!1}],je=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:-3e3,pv:1398,amt:2210},{name:"Page C",uv:-2e3,pv:-9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:-1890,pv:4800,amt:2181}],Ce=[{key:"pv",dataKey:"pv",fill:"#8884d8",isAnimationActive:!1},{key:"uv",dataKey:"uv",fill:"#82ca9d",isAnimationActive:!1}],ke=[{name:"1",uv:300,pv:456},{name:"2",uv:-145,pv:230},{name:"3",uv:-100,pv:345},{name:"4",uv:-8,pv:450},{name:"5",uv:100,pv:321},{name:"6",uv:9,pv:235},{name:"7",uv:53,pv:926},{name:"8",uv:252,pv:-378},{name:"9",uv:79,pv:-210},{name:"10",uv:294,pv:-23},{name:"12",uv:43,pv:45},{name:"13",uv:-74,pv:90},{name:"14",uv:-71,pv:130},{name:"15",uv:-117,pv:235}],Be=[{key:"pv",dataKey:"pv",fill:"#8884d8",isAnimationActive:!1},{key:"uv",dataKey:"uv",fill:"#82ca9d",isAnimationActive:!1}];function $e(){return p.jsxs(S,{container:!0,spacing:6,className:"fill",children:[p.jsx(S,{size:{xs:12},children:p.jsx("h3",{className:I.title,children:"Bar Charts"})}),p.jsx(S,{size:{xs:12,md:6},children:p.jsx("div",{className:I.charts,children:p.jsx(O,{title:"Simple Bar Chart",XAxisKey:"name",data:Se,BarList:Ie})})}),p.jsx(S,{size:{xs:12,md:6},children:p.jsx("div",{className:I.charts,children:p.jsx(O,{title:"Stacked Bar Chart",XAxisKey:"name",data:De,BarList:Oe})})}),p.jsx(S,{size:{xs:12,md:6},children:p.jsx("div",{className:I.charts,children:p.jsx(O,{title:"Positive And Negative Bar Chart",XAxisKey:"name",data:je,BarList:Ce,children:p.jsx(z,{y:0,stroke:"#000"})})})}),p.jsx(S,{size:{xs:12,md:6},children:p.jsx("div",{className:I.charts,children:p.jsxs(O,{title:"Brus hBar Chart",XAxisKey:"name",data:ke,BarList:Be,children:[p.jsx(z,{y:0,stroke:"#000"}),p.jsx(K,{dataKey:"name",height:30,stroke:"#8884d8"})]})})})]})}export{$e as default};
