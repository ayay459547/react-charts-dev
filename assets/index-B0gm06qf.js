import{r as d,a as Ee,j}from"./index-tB3qqX0c.js";import{I as Be}from"./Card-foSjiJ5U.js";import{t as we,aT as Se,aU as Ce,aB as Q,Q as R,as as De,at as _e,K as Me,M as le,ah as Ke,aw as ze,au as Te,D as Re,ar as Le,aV as Ne,u as W,aW as $e,X as Fe,O as ue,L as G,az as We,aX as Ge,aY as Ve,aZ as Z,a_ as ce,f as de,y as ve,R as Xe,U as Ye,V as S,a$ as Ue,W as qe,a7 as He,ab as Je,b0 as ee,c as w,b1 as Qe,am as C,an as D,b as _,ao as Ze,I as fe,aq as pe,b2 as me,b3 as ea,b4 as aa,ap as ae,b5 as ta,b6 as te,b7 as X,aE as re,aF as ra,ai as ia,al as na,aj as sa,aG as oa,aH as la,aI as ua,aJ as ca,ak as da}from"./useResizeObserver-n1fAYFfP.js";import{S as va}from"./ErrorBar-D246dvNe.js";import{S as fa,C as pa,u as he,a as ye,b as ge}from"./tooltipContext-BL-ETvgS.js";var ma=()=>{var e=we();return d.useEffect(()=>(e(Se()),()=>{e(Ce())})),null},ha="Invariant failed";function ya(e,a){throw new Error(ha)}var ga=["x","y"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Y.apply(null,arguments)}function ie(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function z(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ie(Object(t),!0).forEach(function(r){xa(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function xa(e,a,t){return(a=ba(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ba(e){var a=Pa(e,"string");return typeof a=="symbol"?a:a+""}function Pa(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Aa(e,a){if(e==null)return{};var t,r,n=Ia(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ia(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function Oa(e,a){var{x:t,y:r}=e,n=Aa(e,ga),i="".concat(t),s=parseInt(i,10),p="".concat(r),m=parseInt(p,10),o="".concat(a.height||n.height),l=parseInt(o,10),v="".concat(a.width||n.width),c=parseInt(v,10);return z(z(z(z(z({},a),n),s?{x:s}:{}),m?{y:m}:{}),{},{height:l,width:c,name:a.name,radius:a.radius})}function xe(e){return d.createElement(fa,Y({shapeType:"rectangle",propTransformer:Oa,activeClassName:"recharts-active-bar"},e))}var ka=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(Q(a))return a;var i=Q(r)||R(r);return i?a(r,n):(i||ya(),t)}},ja=["onMouseEnter","onMouseLeave","onClick"],Ea=["value","background","tooltipPosition"],Ba=["onMouseEnter","onClick","onMouseLeave"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(null,arguments)}function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function O(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ne(Object(t),!0).forEach(function(r){V(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function V(e,a,t){return(a=wa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function wa(e){var a=Sa(e,"string");return typeof a=="symbol"?a:a+""}function Sa(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function U(e,a){if(e==null)return{};var t,r,n=Ca(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ca(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var Da=e=>{var{dataKey:a,name:t,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:a,type:n,color:r,value:le(t,a),payload:e}]};function _a(e){var{dataKey:a,stroke:t,strokeWidth:r,fill:n,name:i,hide:s,unit:p}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:n,dataKey:a,nameKey:void 0,name:le(i,a),hide:s,type:e.tooltipType,color:e.fill,unit:p}}}function Ma(e){var a=W(ce),{data:t,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:p,onClick:m}=i,o=U(i,ja),l=he(s,r),v=ye(p),c=ge(m,r);if(!n||t==null)return null;var b=de(n,!1);return d.createElement(d.Fragment,null,t.map((g,y)=>{var{value:P,background:f,tooltipPosition:u}=g,h=U(g,Ea);if(!f)return null;var x=l(g,y),I=v(g,y),A=c(g,y),k=O(O(O(O(O({option:n,isActive:String(y)===a},h),{},{fill:"#eee"},f),b),ve(o,g,y)),{},{onMouseEnter:x,onMouseLeave:I,onClick:A,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return d.createElement(xe,T({key:"background-bar-".concat(y)},k))}))}function be(e){var{data:a,props:t,showLabels:r}=e,n=de(t,!1),{shape:i,dataKey:s,activeBar:p}=t,m=W(ce),o=W(Ue),{onMouseEnter:l,onClick:v,onMouseLeave:c}=t,b=U(t,Ba),g=he(l,s),y=ye(c),P=ge(v,s);return a?d.createElement(d.Fragment,null,a.map((f,u)=>{var h=p&&String(u)===m&&(o==null||s===o),x=h?p:i,I=O(O(O({},n),f),{},{isActive:h,option:x,index:u,dataKey:s});return d.createElement(G,T({className:"recharts-bar-rectangle"},ve(b,f,u),{onMouseEnter:g(f,u),onMouseLeave:y(f,u),onClick:P(f,u),key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(u)}),d.createElement(xe,I))}),r&&qe.renderCallByParent(t,a)):null}function Ka(e){var{props:a,previousRectanglesRef:t}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:p,animationEasing:m,onAnimationEnd:o,onAnimationStart:l}=a,v=t.current,c=Xe(a,"recharts-bar-"),[b,g]=d.useState(!1),y=d.useCallback(()=>{typeof o=="function"&&o(),g(!1)},[o]),P=d.useCallback(()=>{typeof l=="function"&&l(),g(!0)},[l]);return d.createElement(Ye,{begin:s,duration:p,isActive:i,easing:m,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:P,key:c},f=>{var{t:u}=f,h=u===1?r:r.map((x,I)=>{var A=v&&v[I];if(A){var k=S(A.x,x.x),M=S(A.y,x.y),E=S(A.width,x.width),K=S(A.height,x.height);return O(O({},x),{},{x:k(u),y:M(u),width:E(u),height:K(u)})}if(n==="horizontal"){var L=S(0,x.height),B=L(u);return O(O({},x),{},{y:x.y+x.height-B,height:B})}var N=S(0,x.width),$=N(u);return O(O({},x),{},{width:$})});return u>0&&(t.current=h),d.createElement(G,null,d.createElement(be,{props:a,data:h,showLabels:!b}))})}function za(e){var{data:a,isAnimationActive:t}=e,r=d.useRef(null);return t&&a&&a.length&&(r.current==null||r.current!==a)?d.createElement(Ka,{previousRectanglesRef:r,props:e}):d.createElement(be,{props:e,data:a,showLabels:!0})}var Pe=0,Ta=(e,a)=>{var t=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:t,errorVal:ue(e,a)}};class Ra extends d.PureComponent{constructor(){super(...arguments),V(this,"id",He("recharts-bar-"))}render(){var{hide:a,data:t,dataKey:r,className:n,xAxisId:i,yAxisId:s,needClip:p,background:m,id:o,layout:l}=this.props;if(a)return null;var v=Ee("recharts-bar",n),c=R(o)?this.id:o;return d.createElement(G,{className:v},p&&d.createElement("defs",null,d.createElement(We,{clipPathId:c,xAxisId:i,yAxisId:s})),d.createElement(G,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(c,")"):null},d.createElement(Ma,{data:t,dataKey:r,background:m,allOtherBarProps:this.props}),d.createElement(za,this.props)),d.createElement(va,{direction:l==="horizontal"?"y":"x"},this.props.children))}}var Ae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Fe.isSsr,legendType:"rect",minPointSize:Pe,xAxisId:0,yAxisId:0};function La(e){var{xAxisId:a,yAxisId:t,hide:r,legendType:n,minPointSize:i,activeBar:s,animationBegin:p,animationDuration:m,animationEasing:o,isAnimationActive:l}=Ke(e,Ae),{needClip:v}=ze(a,t),c=Te(),b=Re(),g=d.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:Le(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),y=Ne(e.children,pa),P=W(h=>ft(h,a,t,b,g,y));if(c!=="vertical"&&c!=="horizontal")return null;var f,u=P?.[0];return u==null||u.height==null||u.width==null?f=0:f=c==="vertical"?u.height/2:u.width/2,d.createElement($e,{xAxisId:a,yAxisId:t,data:P,dataPointFormatter:Ta,errorBarOffset:f},d.createElement(Ra,T({},e,{layout:c,needClip:v,data:P,xAxisId:a,yAxisId:t,hide:r,legendType:n,minPointSize:i,activeBar:s,animationBegin:p,animationDuration:m,animationEasing:o,isAnimationActive:l})))}function Na(e){var{layout:a,barSettings:{dataKey:t,minPointSize:r},pos:n,bandSize:i,xAxis:s,yAxis:p,xAxisTicks:m,yAxisTicks:o,stackedData:l,displayedData:v,offset:c,cells:b}=e,g=a==="horizontal"?p:s,y=l?g.scale.domain():null,P=Ge({numericAxis:g});return v.map((f,u)=>{var h,x,I,A,k,M;l?h=Ve(l[u],y):(h=ue(f,t),Array.isArray(h)||(h=[P,h]));var E=ka(r,Pe)(h[1],u);if(a==="horizontal"){var K,[L,B]=[p.scale(h[0]),p.scale(h[1])];x=Z({axis:s,ticks:m,bandSize:i,offset:n.offset,entry:f,index:u}),I=(K=B??L)!==null&&K!==void 0?K:void 0,A=n.size;var N=L-B;if(k=Je(N)?0:N,M={x,y:c.top,width:A,height:c.height},Math.abs(E)>0&&Math.abs(k)<Math.abs(E)){var $=ee(k||E)*(Math.abs(E)-Math.abs(k));I-=$,k+=$}}else{var[J,Oe]=[s.scale(h[0]),s.scale(h[1])];if(x=J,I=Z({axis:p,ticks:o,bandSize:i,offset:n.offset,entry:f,index:u}),A=Oe-J,k=n.size,M={x:c.left,y:I,width:c.width,height:k},Math.abs(E)>0&&Math.abs(A)<Math.abs(E)){var ke=ee(A||E)*(Math.abs(E)-Math.abs(A));A+=ke}}var je=O(O({},f),{},{x,y:I,width:A,height:k,value:l?h:h[1],payload:f,background:M,tooltipPosition:{x:x+A/2,y:I+k/2}},b&&b[u]&&b[u].props);return je})}class q extends d.PureComponent{render(){return d.createElement(De,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},d.createElement(ma,null),d.createElement(_e,{legendPayload:Da(this.props)}),d.createElement(Me,{fn:_a,args:this.props}),d.createElement(La,this.props))}}V(q,"displayName","Bar");V(q,"defaultProps",Ae);function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function F(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?se(Object(t),!0).forEach(function(r){$a(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function $a(e,a,t){return(a=Fa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Fa(e){var a=Wa(e,"string");return typeof a=="symbol"?a:a+""}function Wa(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ga=(e,a)=>a,Va=(e,a,t)=>t,Xa=(e,a,t,r)=>r,H=(e,a,t,r,n)=>n,Ya=(e,a,t,r,n)=>n.maxBarSize,Ua=(e,a,t,r,n,i)=>i,oe=(e,a,t)=>{var r=t??e;if(!R(r))return X(r,a,0)},qa=w([_,pe,Ga,Va,Xa],(e,a,t,r,n)=>a.filter(i=>e==="horizontal"?i.xAxisId===t:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ha=(e,a,t,r)=>{var n=_(e);return n==="horizontal"?ae(e,"yAxis",t,r):ae(e,"xAxis",a,r)},Ja=(e,a,t)=>{var r=_(e);return r==="horizontal"?te(e,"xAxis",a):te(e,"yAxis",t)};function Qa(e){return e.stackId!=null&&e.dataKey!=null}var Za=(e,a,t)=>{var r={},n=e.filter(Qa),i=e.filter(o=>o.stackId==null),s=n.reduce((o,l)=>(o[l.stackId]||(o[l.stackId]=[]),o[l.stackId].push(l),o),r),p=Object.entries(s).map(o=>{var[l,v]=o,c=v.map(g=>g.dataKey),b=oe(a,t,v[0].barSize);return{stackId:l,dataKeys:c,barSize:b}}),m=i.map(o=>{var l=[o.dataKey].filter(c=>c!=null),v=oe(a,t,o.barSize);return{stackId:void 0,dataKeys:l,barSize:v}});return[...p,...m]},et=w([qa,ta,Ja],Za),at=(e,a,t,r,n)=>{var i,s,p=_(e),m=me(e),{maxBarSize:o}=n,l=R(o)?m:o,v,c;return p==="horizontal"?(v=C(e,"xAxis",a,r),c=D(e,"xAxis",a,r)):(v=C(e,"yAxis",t,r),c=D(e,"yAxis",t,r)),(i=(s=fe(v,c,!0))!==null&&s!==void 0?s:l)!==null&&i!==void 0?i:0},Ie=(e,a,t,r)=>{var n=_(e),i,s;return n==="horizontal"?(i=C(e,"xAxis",a,r),s=D(e,"xAxis",a,r)):(i=C(e,"yAxis",t,r),s=D(e,"yAxis",t,r)),fe(i,s)};function tt(e,a,t,r,n){var i=r.length;if(!(i<1)){var s=X(e,t,0,!0),p,m=[];if(re(r[0].barSize)){var o=!1,l=t/i,v=r.reduce((f,u)=>f+(u.barSize||0),0);v+=(i-1)*s,v>=t&&(v-=(i-1)*s,s=0),v>=t&&l>0&&(o=!0,l*=.9,v=i*l);var c=(t-v)/2>>0,b={offset:c-s,size:0};p=r.reduce((f,u)=>{var h,x={stackId:u.stackId,dataKeys:u.dataKeys,position:{offset:b.offset+b.size+s,size:o?l:(h=u.barSize)!==null&&h!==void 0?h:0}},I=[...f,x];return b=I[I.length-1].position,I},m)}else{var g=X(a,t,0,!0);t-2*g-(i-1)*s<=0&&(s=0);var y=(t-2*g-(i-1)*s)/i;y>1&&(y>>=0);var P=re(n)?Math.min(y,n):y;p=r.reduce((f,u,h)=>[...f,{stackId:u.stackId,dataKeys:u.dataKeys,position:{offset:g+(y+s)*h+(y-P)/2,size:P}}],m)}return p}}var rt=(e,a,t,r,n,i,s)=>{var p=R(s)?a:s,m=tt(t,r,n!==i?n:i,e,p);return n!==i&&m!=null&&(m=m.map(o=>F(F({},o),{},{position:F(F({},o.position),{},{offset:o.position.offset-n/2})}))),m},it=w([et,me,ea,aa,at,Ie,Ya],rt),nt=(e,a,t,r)=>C(e,"xAxis",a,r),st=(e,a,t,r)=>C(e,"yAxis",t,r),ot=(e,a,t,r)=>D(e,"xAxis",a,r),lt=(e,a,t,r)=>D(e,"yAxis",t,r),ut=w([it,H],(e,a)=>{if(e!=null){var t=e.find(r=>r.stackId===a.stackId&&r.dataKeys.includes(a.dataKey));if(t!=null)return t.position}}),ct=(e,a)=>{if(!(!e||a?.dataKey==null)){var{stackId:t}=a;if(t!=null){var r=e[t];if(r){var{stackedData:n}=r;if(n){var i=n.find(s=>s.key===a.dataKey);return i}}}}},dt=w([pe,H],(e,a)=>{if(e.some(t=>t.type==="bar"&&a.dataKey===t.dataKey&&a.stackId===t.stackId&&a.stackId===t.stackId))return a}),vt=w([Ha,H],ct),ft=w([Qe,nt,st,ot,lt,ut,_,Ze,Ie,vt,dt,Ua],(e,a,t,r,n,i,s,p,m,o,l,v)=>{var{chartData:c,dataStartIndex:b,dataEndIndex:g}=p;if(!(l==null||i==null||s!=="horizontal"&&s!=="vertical"||a==null||t==null||r==null||n==null||m==null)){var{data:y}=l,P;if(y!=null&&y.length>0?P=y:P=c?.slice(b,g+1),P!=null)return Na({layout:s,barSettings:l,pos:i,bandSize:m,xAxis:a,yAxis:t,xAxisTicks:r,yAxisTicks:n,stackedData:o,displayedData:P,offset:e,cells:v})}}),pt=["axis","item"],mt=d.forwardRef((e,a)=>d.createElement(ra,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pt,tooltipPayloadSearcher:ia,categoricalChartProps:e,ref:a}));function Pt({children:e,title:a,data:t=[],layout:r,strokeDasharray:n="5 5",XAxisKey:i="name",BarList:s=[],margin:p={},width:m,height:o}){const{ref:l,size:v}=na(),c="40px";return j.jsxs(Be,{className:"fill",children:[j.jsx("div",{style:{height:c,lineHeight:c},children:a&&j.jsx("h3",{children:a})}),j.jsx("div",{ref:l,style:{height:`calc(100% - ${c})`},children:j.jsx(sa,{width:"100%",height:"100%",children:j.jsxs(mt,{width:m??v.width,height:o??v.height,data:t,layout:r,margin:{top:20,right:60,left:20,bottom:20,...p},children:[j.jsx(oa,{strokeDasharray:n}),j.jsx(la,{dataKey:i}),j.jsx(ua,{}),j.jsx(ca,{}),j.jsx(da,{}),s.map(b=>d.createElement(q,{...b,key:b.key})),e]})})})]})}export{Pt as I};
